<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Google Demo Navigation</title>

	<link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
	<link href="assets/css/bootstrap.css" rel="stylesheet" type='text/css'>
	<link href="assets/css/font-awesome.css" rel="stylesheet" type='text/css'>
	<link href="assets/css/style.css" rel="stylesheet" type='text/css'>
	<link href="assets/css/jPushMenu.css" rel="stylesheet" type='text/css'>
    <link rel="shortcut icon" href="http://s3.amazonaws.com/Content-Demo-Navigation/favicon.ico" />
    
</head>
<body>
	<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left">
		<ul class="myCarousel-indicators">
			<li data-target="#myCarousel" data-slide-to="0" class="myCarousel-target active">Events</li>
			<li data-target="#myCarousel" data-slide-to="1" class="myCarousel-target">Restaurant Promotions</li>
			<li data-target="#myCarousel" data-slide-to="2" class="myCarousel-target">Restaurant Menuboard</li>
			<li data-target="#myCarousel" data-slide-to="3" class="myCarousel-target">School Calendar</li>
            		<li data-target="#myCarousel" data-slide-to="4" class="myCarousel-target">School Lunch</li>
        		 <li data-target="#myCarousel" data-slide-to="5" class="myCarousel-target">Teacher Profile</li>
		</ul>
	</nav>
	<div class="transparent-box"></div>
	<div id="myCarousel" class="carousel slide fade" data-ride="carousel">
	    <!-- Carousel items -->
	    <div class="carousel-inner">
			<div data-slide-no="0" data-interval="30000" class="item carousel-item active">
				<iframe src="http://commondatastorage.googleapis.com/risemedialibrary-395c64e5-2930-460b-881e-009aabb157df/content-templates/events/events.html"></iframe>
			</div>
	        <div data-slide-no="1" data-interval="30000" class="item carousel-item">
	        	<iframe src="http://commondatastorage.googleapis.com/risemedialibrary-395c64e5-2930-460b-881e-009aabb157df/content-templates/restaurant-promotion/restaurant-promotion.html"></iframe>
	        </div>
	        <div data-slide-no="2" data-interval="30000" class="item carousel-item">
	            <iframe src="http://commondatastorage.googleapis.com/risemedialibrary-395c64e5-2930-460b-881e-009aabb157df/content-templates/restaurant-menuboard/restaurant-menuboard.html"></iframe>
	        </div>
			<div data-slide-no="3" data-interval="30000" class="item carousel-item">
	            <iframe src="http://commondatastorage.googleapis.com/risemedialibrary-395c64e5-2930-460b-881e-009aabb157df/content-templates/school-calendar/school-calendar.html"></iframe>
	        </div>
            <div data-slide-no="4" data-interval="30000" class="item carousel-item">
	            <iframe src="http://commondatastorage.googleapis.com/risemedialibrary-395c64e5-2930-460b-881e-009aabb157df/content-templates/school-lunch/school-lunch.html"></iframe>
	        </div>
            <div data-slide-no="5" data-interval="30000" class="item carousel-item">
	            <iframe src="http://commondatastorage.googleapis.com/risemedialibrary-395c64e5-2930-460b-881e-009aabb157df/content-templates/teacher-profile/teacher-profile.html"></iframe>
	        </div>
	    </div>
	</div>
	<button class="toggle-menu menu-left"><i class="fa fa-arrow-circle-up fa-rotate-45"></i></button>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="assets/js/bootstrap-transition.js"></script>
	<script src="assets/js/bootstrap-carousel.js"></script>
	<script src="assets/js/jPushMenu.js"></script>
	<script>
		var hasBeenClicked = false;
		jQuery(document).ready(function($) {
			$('.toggle-menu').jPushMenu({
				closeOnClickOutside: false,
				closeOnClickInside: false,
				closeOnClickLink: false
			});
			
			$(document).click(function() { 
				if (!hasBeenClicked) {
					$('.cbp-spmenu').removeClass("cbp-spmenu-open");
					$('.toggle-menu').removeClass("menu-active");
					$('.toggle-menu').find("i").removeClass("fa-arrow-circle-down");
					$('.toggle-menu').find("i").addClass("fa-arrow-circle-up");
				}
				hasBeenClicked = false;
			 });
			
			$(".carousel").on("slid.bs.carousel", function() {
				var to_slide;
				to_slide = $(".carousel-item.active").attr("data-slide-no");
			    $(".myCarousel-target.active").removeClass("active");
			    $(".myCarousel-indicators [data-slide-to=" + to_slide + "]").addClass("active");
			});
			$(".myCarousel-target").on("click", function() {
				hasBeenClicked = true;
			    $(this).preventDefault();
			    $(".carousel").carousel(parseInt($(this).attr("data-slide-to")));
			    $(".myCarousel-target.active").removeClass("active");
			    $(this).addClass("active");
			});
			
			var t;
			var start = $('#myCarousel').find('.active').attr('data-interval');
			t = setTimeout("$('#myCarousel').carousel({interval: 30000});", start-30000);
			$('#myCarousel').on('slid.bs.carousel', function () {  
			     clearTimeout(t);  
			     var duration = $(this).find('.active').attr('data-interval');

			     $('#myCarousel').carousel('pause');
			     t = setTimeout("$('#myCarousel').carousel();", duration-30000);
			});
			
			$('.toggle-menu').click(function(){
			  	// toggle icon
			  	$(this).find("i").toggleClass("fa-arrow-circle-up fa-arrow-circle-down");
			});
		});
	</script>
	<script src="assets/js/ifvisible/ifvisible.js"></script>
	<script>
		ifvisible.setIdleDuration(10);
		ifvisible.idle(function(){
			$('.cbp-spmenu').removeClass("cbp-spmenu-open");
			$('.toggle-menu').removeClass("menu-active");
			$('.toggle-menu').find("i").removeClass("fa-arrow-circle-down");
			$('.toggle-menu').find("i").addClass("fa-arrow-circle-up");
		});
	</script>
</body>
</html>
